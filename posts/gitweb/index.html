<!DOCTYPE html>
<html lang ="en-US">
  <head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet" href=../../css/brutalist-minimalist-variables.css>

<link rel="stylesheet" href="../../css/brutalist-minimalist.css">



<link rel="stylesheet" type="text/css" href="../../css/bm-responsiveness.css">


<link rel="stylesheet" href="../../css/beyond-minimalism.css">


<link rel="stylesheet" href=../../css/brutalist-minimalist-fonts.css>



<link rel="stylesheet" href="../../css/bm-printing.css" media="print">


<link rel="stylesheet" href="../../css/custom.css">
<title>
gitweb - a GitHub/GitLab alternative | Xangelo.ca
</title>
  </head>
  <body leftmargin=40 rightmarin=40>
    

<header>
  

<input id="menu-toggle" type="checkbox" hidden /><div id="nav-area"><label id='menu-button' for="menu-toggle"></label><nav id="nav-menu">
<a href="../../">Home</a>
<a href="../../tags/">All Categories</a>
<a href="../../page/about">About</a>
</nav>
</div>




  <h1><a href=../../>Xangelo.ca</a></h1>
  <em id="subtitle">Technical musings and other tidbits</em>  
</header>


    <main>
      
<h2>gitweb - a GitHub/GitLab alternative</h2>

<div class="tag-list">
  
  [ <a href="../../tags/git">git</a> ]
  
  [ <a href="../../tags/development">development</a> ]
  
  [ <a href="../../tags/dev-tools">dev tools</a> ]
  
  [ <a href="../../tags/gitweb">gitweb</a> ]
  
</div>


<h2 id="owning-your-digital-space">Owning Your Digital Space</h2>
<p>Over the last year or so I&rsquo;ve slowly pushed further and further into the idea of
owning your digital space. Part of that has been re-evaluating all of the
services online that I think of as &ldquo;necessary&rdquo;. One of these such services has
been GitHub.</p>
<p>The more I dive into development processes the more I find that they are all
centered around the idea that in order for you to be a &ldquo;developer&rdquo; it mostly
requires that you buy into the idea of centralized forges like GitHub/GitLab.
But these very ideas make it harder and harder to actually get work done. All
development over the last few years has been about dealing with changes that
GitHub has brought about. Don&rsquo;t get me wrong - GitHub really does have some
wonderful services and they&rsquo;ve done a lot for visibility and getting people
involved in OS projects.</p>
<p>But they definitely shouldn&rsquo;t be the only game in town.</p>
<p>In an attempt to take some control back from the major forges, I&rsquo;ve been
experimenting with a small tool called gitweb.</p>
<h2 id="gitweb">gitweb</h2>
<p>gitweb is a very simple tool - it allows you to browse all the git repositories
within a specified folder. You simply install gitweb, point nginx over to it,
and edit a single configuration file. You immediately get</p>
<ul>
<li>A browser for all local git projects</li>
<li>A tree view for your repos with raw file previews</li>
<li>Commit history w/ colorized diffs</li>
<li>Snapshot downloads</li>
<li>RSS feed tracking commit history</li>
<li>Search (with regex) throughout your repos</li>
</ul>
<p>For personal projects, or even for small collaborative projects gitweb provides
more than enough functionality.</p>
<p>The two features that I think are missing from gitweb are Issue Tracking and
Merge Requests. I don&rsquo;t think these are necessarily features that have any place
in gitweb itself, but it means as a replacement for a centralized forge today,
you probably need to rely on additional tooling.</p>
<h2 id="setting-up-gitweb">Setting up gitweb</h2>
<p>Actually setting up gitweb was surprisingly easy.</p>
<h3 id="installing-gitweb">Installing gitweb</h3>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo apt install gitweb
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="configuring-gitweb">Configuring gitweb</h3>
<p>The gitweb configuration file is located at <code>/etc/gitweb.conf</code>. Installing
gitweb automatically populates this file with some of the defaults. It&rsquo;s a very tiny
file and honestly you don&rsquo;t need to touch most of it to get going. The only
thing that&rsquo;s required is setting the <code>$projectroot</code>.</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2;"><code class="language-inf" data-lang="inf"><span style="display:flex;"><span><span style="color:#a6e22e">$projectroot</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;/path/to/gitfolders&#34;;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="configuring-nginx">Configuring nginx</h3>
<p>Most of the tutorials about getting gitweb going seem to be primarily apache
related. I haven&rsquo;t personally used apache in close to 10 years now - mostly
living in nginx land. Here&rsquo;s a very short snippet to get your nginx config going
to actually serve gitweb.</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2;"><code class="language-nginx" data-lang="nginx"><span style="display:flex;"><span><span style="color:#66d9ef">server</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">server_name</span> <span style="color:#e6db74">git.xangelo.ca</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">location</span> <span style="color:#e6db74">/index.cgi</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">root</span> <span style="color:#e6db74">/usr/share/gitweb/</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">include</span> <span style="color:#e6db74">fastcgi_params</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">gzip</span> <span style="color:#66d9ef">off</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">fastcgi_param</span> <span style="color:#e6db74">SCRIPT_NAME</span> $uri;
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">fastcgi_param</span> <span style="color:#e6db74">GITWEB_CONFIG</span> <span style="color:#e6db74">/etc/gitweb.conf</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">fastcgi_pass</span>  <span style="color:#e6db74">unix:/var/run/fcgiwrap.socket</span>;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">location</span> <span style="color:#e6db74">/</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">root</span> <span style="color:#e6db74">/usr/share/gitweb/</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">index</span> <span style="color:#e6db74">index.cgi</span>;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>All the paths included are the default locations of things gitweb configures.
The entire block should work for you if you just change the <code>server_name</code>
directive.</p>
<h2 id="further-customizing">Further Customizing</h2>
<p>Unfortunately not all the configuration options are specified in the
configuration file that&rsquo;s generated. Reading the source will get you a list
pretty quick but if you don&rsquo;t feel like it, here&rsquo;s a few other params I changed
up.</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2;"><code class="language-inf" data-lang="inf"><span style="display:flex;"><span><span style="color:#75715e"># sets the title in the &lt;title&gt;&lt;/title&gt; html tag</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">$site_name</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;My Site&#34;;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># by default the root of your gitweb is called &#34;projects&#34;. </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># I simply changed that to Home and explicitly set the url </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># that users get directed to when they click it</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">$home_link_str</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Home&#34;;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">$home_link</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;https://git.xangelo.ca&#34;;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># There&#39;s a small &#34;Header&#34; section above the project listing </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># that you can customize with whatever text you want. This </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># allows you to specify an html  file that should be used </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># in that area</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">$home_text</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;/path/to/file.html&#34;;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># since all of these repos are mine, I don&#39;t list the owner</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># so I&#39;ve disabled this prop</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">$omit_owner</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;1&#34;;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="resources">Resources</h2>
<ul>
<li>Git Docs: <a href="https://git-scm.com/docs/gitweb.html">https://git-scm.com/docs/gitweb.html</a></li>
<li>Gitweb Source: <a href="https://repo.or.cz/w/git.git/tree/HEAD:/gitweb/">https://repo.or.cz/w/git.git/tree/HEAD:/gitweb/</a></li>
<li>My projects: <a href="https://git.xangelo.ca">https://git.xangelo.ca</a></li>
</ul>

<div class="post-date">
  Posted Thursday, March 24, 2022
</div>

    </main>
    
<footer>





  <span id="footer-links">
[<a href="https://github.com/angelor">GitHub</a>]
[<a href="https://git.xangelo.ca">GitWeb</a>]
[<a href="https://www.linkedin.com/in/rodriguesangelo">Linked In</a>]
</span>
</footer>





<p id="source-url">Source: <a href=../../posts/gitweb/>https://xangelo.ca/posts/gitweb/</a>, 2022-03-24</p>



</body>
     
 
